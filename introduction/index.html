



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/dasch-favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Introduction - SIPI Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../assets/style/theme.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-blue" data-md-color-accent="deep-blue">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#simple-image-presentation-interface-sipi-introduction" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../0-release-notes/" title="SIPI Documentation" class="md-header-nav__button md-logo">
          
            <img src="../assets/images/dasch-icon-white.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SIPI Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Introduction
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../0-release-notes/" title="SIPI Documentation" class="md-nav__button md-logo">
      
        <img src="../assets/images/dasch-icon-white.svg" width="48" height="48">
      
    </a>
    SIPI Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Introduction
      </label>
    
    <a href="./" title="Introduction" class="md-nav__link md-nav__link--active">
      Introduction
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-sipi" class="md-nav__link">
    What is SIPI?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-a-iiif-image-api-v3-level-2-conformant-image-server" class="md-nav__link">
    1. A IIIF Image API V3 level 2 conformant image server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-an-ordinary-http-webserver" class="md-nav__link">
    2. An ordinary HTTP webserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-an-image-format-conversion-tool" class="md-nav__link">
    3. An image format conversion tool
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generic-format-conversions" class="md-nav__link">
    Generic format conversions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preservation-metadata-sipi-specific" class="md-nav__link">
    Preservation metadata (SIPI specific)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-integrated-sqlite3-database" class="md-nav__link">
    4. Integrated sqlite3 Database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#who-is-behind-sipi" class="md-nav__link">
    Who is behind SIPI?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-get-sipi" class="md-nav__link">
    How to get SIPI?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sipi-as-iiif-server" class="md-nav__link">
    SIPI as IIIF-Server
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extensions-to-the-iiif-standard" class="md-nav__link">
    Extensions to the IIIF-Standard
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-to-pdf-pages" class="md-nav__link">
    Access to PDF Pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-to-non-image-files" class="md-nav__link">
    Access to non-image files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../sipi/" title="Basic information and Reference" class="md-nav__link">
      Basic information and Reference
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../lua/" title="Lua integration" class="md-nav__link">
      Lua integration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../lua-image/" title="Lua imaging functions" class="md-nav__link">
      Lua imaging functions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../building/" title="Building" class="md-nav__link">
      Building
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../running/" title="Running" class="md-nav__link">
      Running
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../developing/" title="Developing" class="md-nav__link">
      Developing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../0-release-notes/" title="Release-Notes" class="md-nav__link">
      Release-Notes
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-sipi" class="md-nav__link">
    What is SIPI?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-a-iiif-image-api-v3-level-2-conformant-image-server" class="md-nav__link">
    1. A IIIF Image API V3 level 2 conformant image server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-an-ordinary-http-webserver" class="md-nav__link">
    2. An ordinary HTTP webserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-an-image-format-conversion-tool" class="md-nav__link">
    3. An image format conversion tool
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generic-format-conversions" class="md-nav__link">
    Generic format conversions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preservation-metadata-sipi-specific" class="md-nav__link">
    Preservation metadata (SIPI specific)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-integrated-sqlite3-database" class="md-nav__link">
    4. Integrated sqlite3 Database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#who-is-behind-sipi" class="md-nav__link">
    Who is behind SIPI?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-get-sipi" class="md-nav__link">
    How to get SIPI?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sipi-as-iiif-server" class="md-nav__link">
    SIPI as IIIF-Server
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extensions-to-the-iiif-standard" class="md-nav__link">
    Extensions to the IIIF-Standard
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-to-pdf-pages" class="md-nav__link">
    Access to PDF Pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-to-non-image-files" class="md-nav__link">
    Access to non-image files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="simple-image-presentation-interface-sipi-introduction">Simple Image Presentation Interface (SIPI) - Introduction</h1>
<h2 id="what-is-sipi">What is SIPI?</h2>
<h3 id="1-a-iiif-image-api-v3-level-2-conformant-image-server">1. A IIIF Image API V3 level 2 conformant image server</h3>
<ul>
<li>SIPI is a full multithreaded, high performance, level2 conformant <a href="https://iiif.io">IIIF</a> written in C++. For the
  JPEG2000 implementation, it relies on the commercial <a href="https://kakadusoftware.com">kakadu-library</a>, but otherwise it is
  completely open source on <a href="https://github.com/dasch-swiss/sipi">github</a>. It offers special support for multipage PDF's
  (through a SIPI-specific extensions to the IIIF Image API).</li>
<li>SIPI has been designed with long term preservation for images regarded as culutral heritage in mind. Thus it offers
  some unique features fpr this purpose:</li>
<li>all file format conversions try to preserve all metadata (EXIF, XMP, IPTC etc.). These functionality is based
    on the open source <a href="https://www.exiv2.org">exiv2 library</a>.</li>
<li>SIPI can deal with and convert ICC color profiles based on the <a href="http://www.littlecms.com">littlecms library</a>.</li>
<li>SIPI can embed important preservation data such as the checksum of the pixel values, original filename etc. in the file
    headers.</li>
<li>it supports SSL (https://â€¦)</li>
<li>SIPI embeds the scripting language <a href="https://www.lua.org">LUA</a> that allows a very flexible, highly customizable 
  deployment that can be adapted to the enviroment SIPI is being used in. Before serving any request, a configurable
  LUA script ("pre flight script") is being executed that can check access rights, restrictions or other stuff. SIPI LUA
  has been extended with many SIPI-specific functions (including image conversion, HTTP-client etc.)</li>
</ul>
<h3 id="2-an-ordinary-http-webserver">2. An ordinary HTTP webserver</h3>
<ul>
<li>SIPI is also a normal webserver that is able to deliver arbitrary files. It also implements LUA embedded into HTML
  pages.</li>
<li>Using SIPI LUA scripts and routing, RESTful interfaces may be implemented. E.g. image upload and conversions may
  by supported.</li>
</ul>
<h3 id="3-an-image-format-conversion-tool">3. An image format conversion tool</h3>
<h4 id="generic-format-conversions">Generic format conversions</h4>
<ul>
<li>image format conversion are supported between TIFF, JPEG2000, JPG, PNG and PDF (PDF with some limitations). SIPI can
  be used either as standalone command line tool or in server mode using <a href="https://www.lua.org">LUA</a> scripting. SIPI
  preserves most embedded metadata (EXIF, IPTC, TIFF, XMP) and is preserving and/or converting ICC color profiles.</li>
</ul>
<h4 id="preservation-metadata-sipi-specific">Preservation metadata (SIPI specific)</h4>
<ul>
<li>SIPI is able to add SIPI specific metadata to most file formats. These metadata are relevant for long-term
  preservation and include the following information:<ul>
<li><code>original filename</code>: The original file name before conversion</li>
<li><code>original mimetype</code>: The mimetype of the original image before conversion</li>
<li><code>pixel checksum</code>: A checksum (e.g. SH256) of the original pixel values. This checksum can be used to verify that
  a format conversion didn't alter the image content.</li>
<li><code>icc profile</code>: (optional) The raw ICC profile as binary string. This field is added if the fileformat has no
  standard way to embed ICC color profiles (e.g. JPEG).</li>
</ul>
</li>
</ul>
<h3 id="4-integrated-sqlite3-database">4. Integrated sqlite3 Database</h3>
<p>SIPI has an integrated sqlite3 database that can be used with special LUA extensions. Thus, SIPI can be used as a
standalone media server with extended functionality. The sqlite3 database may be used to store metadata about
images, user data etc.</p>
<h2 id="who-is-behind-sipi">Who is behind SIPI?</h2>
<p>SIPI is developed and maintained by the "Data and Service Center for the Humanities" <a href="https://dasch.swiss">(DaSCH)</a>,
a Swiss national research infrastructure financed by the Swiss National Science Foundation with contributions by the
Universities of Basel and Lausanne.</p>
<h2 id="how-to-get-sipi">How to get SIPI?</h2>
<ul>
<li>The easiest way is to use the docker image provided on dockerhup <a href="https://hub.docker.com/r/daschswiss/sipi">daschswiss/sipi</a>.
  The dockerized version has the binary kakadu library compiled in.</li>
<li>You can compile SIPI from the sources on <a href="https://github.com/dasch-swiss/sipi">github</a>. Since SIPI uses many
  third-party open source libraries, compiling Yourself is tedious and my be frustrating (but possible). <em>You have to
  provide the licensed source of kakadu by Yourself</em>. See <a href="https://kakadusoftware.com">kakadu software</a> on how to get a
  licensed version of the kakadu code. SIPI should compile on Linux (Ubuntu) and (with some hand-work) OS X.</li>
</ul>
<h2 id="sipi-as-iiif-server">SIPI as IIIF-Server</h2>
<h3 id="extensions-to-the-iiif-standard">Extensions to the IIIF-Standard</h3>
<h4 id="access-to-pdf-pages">Access to PDF Pages</h4>
<p>SIPI is able to deliver PDF's either as full file or as images using an extended IIIF-URL to access a specific page
of a multipage PDF as image using the usual IIIF syntax with small extensions:
- In case of a PDF, <code>info.json</code> includes a field <code>numpages</code> that indicates the total number of pages
  the PDF has
- the image-ID given in the IIIF URL must incude a pagenumber specificer
  <code>@pagenum</code> with an integer between 1 and the maximum number of pages, e.g.
  <code>https://iiif.dummy.org/images/test.pdf@12/full/,1000/default.jpg</code>
  The given URL would return page #12 of the PDF <code>test.pdf</code> with a height of 1000 pixels.
  Thus, all IIIF URL parts will work as expected.</p>
<h4 id="access-to-non-image-files">Access to non-image files</h4>
<p>Sometimes it would be helpful to deliver non-image files such as XML, CSV etc. from the same directory tree as the
IIIF-conformant images:
- if the url has the form <code>http(s)://{server}/{prefix}/{fileid}/info.json</code>, SIPI returns a JSON containing
  information about the file. The JSON has the from
  - <code>@context: "http://sipi.io/api/file/3/context.json"</code>
  - <code>id: "http(s)://{server}/{prefix}/{fileid}"</code>
  - <code>mimeType: {mimetype}</code> . Please note that SIPI determines the mimetype using the magic number. Due to the
    limitations thereof the mimetype cannot be determined exactly.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="../sipi/" title="Basic information and Reference" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Basic information and Reference
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>